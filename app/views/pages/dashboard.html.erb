<div class="container">
  <div class="infos">
    <div class="">
      <h4>My contributions:</h4>
      <% @contributions.find_each do |contribution| %>
        <% project = contribution.project %>
        <% counterpart = contribution.counterpart %>
        <div class="d-flex justify-content-between" style="background-color: lightgrey; padding: 15px; margin:10px; border: 2px solid grey">
          <div class="">
            <div class=""><%= contribution.amount_in_cents.fdiv(100).round %>€</div>
            <div class="" style="background-color: white; width: 100%">
              <% if counterpart %>
                <ul>
                  Counterpart:
                  <li>Name: <%= counterpart.name %></li>
                  <li>reward: <%= counterpart.amount_in_cents.fdiv(100).round %>€</li>
                </ul>
              <% else %>
                <h4>No counterpart for this project</h4>
              <% end %>
            </div>
            <div class="">
              <h5>Project: <%= link_to project.name, project_path(project) %></h5>
            </div>
          </div>
          <div class="">
            <% if contribution.aasm_state == 'paid' %>
              <span class="<%= contribution.state_badge %>"><%= contribution.aasm_state %></span>
            <% elsif contribution.aasm_state == 'payment_pending' %>
              <span class="<%= contribution.state_badge %>" =""><%= contribution.aasm_state %></span>
            <% elsif contribution.aasm_state == 'canceled' %>
              <span class="<%= contribution.state_badge %>"><%= contribution.aasm_state %></span>
            <% else %>
              <span class="<%= contribution.state_badge %>"><%= contribution.aasm_state %></span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
    <div class="" style="margin-top: 20px;">
      <%= link_to "my account",edit_user_registration_path, class: "btn btn-warning" %>
    </div>
  </div>
</div>
